#!/usr/bin/make -f

DH_VERBOSE=1
#DESTDIR=$(CURDIR)/debian/tmp
#DEB_SRCDIR=.

BUILD_FLAGS = -j8

#DEB_BUILD_OPTIONS = "parallel=8"
#DH_OPTIONS = "--parallel"

clean:
	dh_testdir
	dh_auto_clean
	rm -rf debian/tmp
	rm -rf debian/liboce*.[sd]*
	rm -rf debian/liboce
	rm -rf debian/liboce-dev
	echo ####################################################


build: build-stamp

build-stamp: 
	dh_testdir
	# Add here commands to compile the package.
	dh_auto_configure
	dh_auto_build -- $(BUILD_FLAGS)
	touch build-stamp
	echo ####################################################




#install: build
#	dh_testdir
#	dh_clean
#	dh_installdirs
#	$(MAKE) install DESTDIR=$(CURDIR)/debian/tmp
#	dh_install -s -i --sourcedir=debian/tmp
#	dh_makeshlibs -v -pliboce
#
#
#binary-arch: build install
#	dh_testdir
#	dh_installchangelogs ChangeLog
#	dh_installdocs
#	dh_installexamples
#	dh_installman
#	dh_strip
#	dh_compress
###	dh_link -p gmp-ecm usr/share/man/man1/ecm.1.gz usr/share/man/man1/gmp-ecm.1.gz
#	dh_fixperms
#	dh_installdeb
#	dh_shlibdeps
#	dh_gencontrol
#	dh_md5sums
#	dh_builddeb
#
#	
#binary: binary-indep binary-arch
binary:
	dh_testroot
	dh_prep
	dh_installdirs
	dh_auto_install
	dh_install -v --fail-missing
	dh_installdocs
	dh_installchangelogs
	dh_installexamples
	dh_installman
	dh_installcatalogs
	dh_installcron
	dh_installdebconf
	dh_installemacsen
	dh_installifupdown
	dh_installinfo
	dh_pysupport
	dh_installinit
	dh_installmenu
	dh_installmime
	dh_installmodules
	dh_installlogcheck
	dh_installlogrotate
	dh_installpam
	dh_installppp
	dh_installudev
	dh_installwm
	dh_installxfonts
	dh_bugfiles
	dh_lintian
	dh_gconf
	dh_icons
	dh_perl
	dh_usrlocal
	dh_link
	dh_compress
	dh_fixperms
	dh_strip
	dh_makeshlibs
	dh_shlibdeps
	dh_installdeb
	dh_gencontrol
	dh_md5sums
	dh_builddeb




%:
	echo ####################################################
	echo $@ ################
	echo ####################################################
	dh $@
	echo ####################################################

.PHONY: clean build 
